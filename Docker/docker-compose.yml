version: "3"

services: 
    playlab-projects:
        container_name: "playlab-${COURSE}"
        build: .
        stdin_open: true 
        tty: true
        volumes: 
            - ../projects:/workspace/projects
            - ../${CURRENT_FLASK_FOLDER}:/workspace/www
        expose:   
            - 8080
        ports: 
            - ${PORT_MAPPING}

    playlab-nginx:
        container_name: "playlab-nginx-${COURSE}"
        image: nginx:1.21.0
        restart: always
        volumes: 
            - ./nginx.conf:/etc/nginx/conf.d/default.conf
        ports: 
            - ${NGINX_PORT}:80
